{"version":3,"file":"main-DT7pOrtp.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    if (window.lucide) {\n        lucide.createIcons();\n    }\n\n    // 2. МОБИЛЬНОЕ МЕНЮ\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link, .mobile-menu .btn');\n\n    const toggleMenu = () => {\n        burger.classList.toggle('header__burger--active');\n        mobileMenu.classList.toggle('mobile-menu--active');\n        document.body.classList.toggle('no-scroll');\n    };\n\n    if (burger) {\n        burger.addEventListener('click', (e) => {\n            e.stopPropagation();\n            toggleMenu();\n        });\n    }\n\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (mobileMenu.classList.contains('mobile-menu--active')) {\n                toggleMenu();\n            }\n        });\n    });\n\n    // 3. FAQ АККОРДЕОН\n    const faqItems = document.querySelectorAll('.faq-item');\n    faqItems.forEach(item => {\n        const question = item.querySelector('.faq-question');\n        question.addEventListener('click', () => {\n            const isActive = item.classList.contains('faq-item--active');\n            faqItems.forEach(el => el.classList.remove('faq-item--active'));\n            if (!isActive) {\n                item.classList.add('faq-item--active');\n            }\n        });\n    });\n\n    // 4. ГЕНЕРАЦИЯ КАПЧИ\n    const captchaText = document.getElementById('captchaQuestion');\n    const num1 = Math.floor(Math.random() * 10) + 1;\n    const num2 = Math.floor(Math.random() * 10) + 1;\n    const captchaSum = num1 + num2;\n    \n    if (captchaText) {\n        captchaText.innerText = `${num1} + ${num2} = `;\n    }\n\n    // 5. ВАЛИДАЦИЯ ТЕЛЕФОНА (Только цифры и +)\n    const phoneInput = document.getElementById('phoneInput');\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n        });\n    }\n\n    // 6. ОБРАБОТКА ФОРМЫ (ИСПРАВЛЕНО)\n    const contactForm = document.getElementById('contactForm');\n    const successMsg = document.getElementById('successMessage');\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            const userCaptcha = document.getElementById('captchaInput').value;\n            \n            // Проверка капчи\n            if (parseInt(userCaptcha) !== captchaSum) {\n                alert('Ошибка в капче! Пожалуйста, решите пример правильно.');\n                return;\n            }\n\n            // Имитация отправки (AJAX)\n            const submitBtn = contactForm.querySelector('button[type=\"submit\"]');\n            const originalBtnText = submitBtn.innerText;\n            \n            submitBtn.innerText = 'Отправка...';\n            submitBtn.disabled = true;\n\n            setTimeout(() => {\n                // Скрываем форму и показываем успех\n                contactForm.style.display = 'none';\n                successMsg.style.display = 'block';\n                \n                // Плавное появление сообщения об успехе\n                if (typeof gsap !== 'undefined') {\n                    gsap.from(successMsg, { \n                        opacity: 0, \n                        y: 20, \n                        duration: 0.6,\n                        ease: \"power2.out\"\n                    });\n                }\n            }, 1500);\n        });\n    }\n\n    // 7. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptBtn = document.getElementById('acceptCookies');\n\n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('cookie-popup--active');\n        }, 2000);\n    }\n\n    if (acceptBtn) {\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('cookie-popup--active');\n        });\n    }\n\n    // 8. АНИМАЦИИ ПРИ СКРОЛЛЕ\n    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n\n        // Анимация текста Hero (SplitType)\n        if (typeof SplitType !== 'undefined') {\n            const heroTitle = new SplitType('.hero__title', { types: 'words, chars' });\n            gsap.from(heroTitle.chars, {\n                opacity: 0,\n                y: 30,\n                duration: 0.8,\n                stagger: 0.02,\n                ease: \"power4.out\"\n            });\n        }\n\n        // Появление секций\n        document.querySelectorAll('.section').forEach(section => {\n            gsap.from(section, {\n                scrollTrigger: {\n                    trigger: section,\n                    start: \"top 85%\",\n                },\n                opacity: 0,\n                y: 30,\n                duration: 1,\n                ease: \"power2.out\"\n            });\n        });\n    }\n    // --- ЛОГИКА МОДАЛЬНОГО ОКНА ---\nconst modal = document.getElementById('marketingModal');\nconst closeModal = document.getElementById('closeModal');\nconst modalForm = document.getElementById('modalForm');\n\n// Функция открытия\nconst openMarketingModal = () => {\n    if (!localStorage.getItem('modalShown')) {\n        modal.classList.add('modal--active');\n        document.body.classList.add('no-scroll');\n    }\n};\n\n// 1. Показать через 10 секунд\nsetTimeout(openMarketingModal, 10000);\n\n// 2. Показать при попытке уйти (exit intent)\ndocument.addEventListener('mouseleave', (e) => {\n    if (e.clientY < 0) {\n        openMarketingModal();\n    }\n});\n\n// Закрытие\nconst closeAllModals = () => {\n    modal.classList.remove('modal--active');\n    document.body.classList.remove('no-scroll');\n    localStorage.setItem('modalShown', 'true'); // Больше не показываем\n};\n\ncloseModal.addEventListener('click', closeAllModals);\nmodal.querySelector('.modal__overlay').addEventListener('click', closeAllModals);\n\n// Обработка формы в модалке\nif (modalForm) {\n    modalForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const btn = modalForm.querySelector('button');\n        btn.innerText = 'Отправлено!';\n        setTimeout(closeAllModals, 1500);\n    });\n    }\n    // --- COOKIE CONSENT LOGIC ---\nconst initCookieConsent = () => {\n    const cookieBar = document.getElementById('cookieConsent');\n    const acceptBtn = document.getElementById('cookieAccept');\n    const declineBtn = document.getElementById('cookieDecline');\n\n    // Если решение еще не принято\n    if (!localStorage.getItem('sigma_cookie_status')) {\n        setTimeout(() => {\n            cookieBar.classList.add('cookie-bar--active');\n        }, 2000); // Показываем через 2 сек после загрузки\n    }\n\n    const saveChoice = (choice) => {\n        localStorage.setItem('sigma_cookie_status', choice);\n        cookieBar.classList.remove('cookie-bar--active');\n    };\n\n    if (acceptBtn) {\n        acceptBtn.addEventListener('click', () => saveChoice('accepted'));\n    }\n\n    if (declineBtn) {\n        declineBtn.addEventListener('click', () => saveChoice('declined'));\n    }\n};\n\n// Вызовите эту функцию внутри вашего основного обработчика DOMContentLoaded\ninitCookieConsent();\n});"],"names":["burger","mobileMenu","mobileLinks","toggleMenu","link","faqItems","item","isActive","el","captchaText","num1","num2","captchaSum","phoneInput","contactForm","successMsg","userCaptcha","submitBtn","cookiePopup","acceptBtn","heroTitle","section","modal","closeModal","modalForm","openMarketingModal","closeAllModals","btn","cookieBar","declineBtn","saveChoice","choice"],"mappings":"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"}